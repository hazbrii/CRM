<div class="form-dialog">
  <!-- Title -->
  <h3 class="dialog-title">{{ isEditMode ? 'Edit User' : 'Create User' }}</h3>
  
  <!-- User Form -->
  <form (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Full Name</label>
      <input 
        type="text" 
        id="name" 
        name="name"
        [(ngModel)]="user.name"
        [class.invalid]="formSubmitted && !user.name">
      <div class="error-message" *ngIf="formSubmitted && !user.name">
        Name is required
      </div>
    </div>
    
    <div class="form-group">
      <label for="email">Email</label>
      <input 
        type="email" 
        id="email" 
        name="email"
        [(ngModel)]="user.email"
        [class.invalid]="formSubmitted && !user.email">
      <div class="error-message" *ngIf="formSubmitted && !user.email">
        Email is required
      </div>
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <label for="role">Role</label>
        <select 
          id="role" 
          name="role"
          [(ngModel)]="user.role"
          [class.invalid]="formSubmitted && !user.role">
          <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
        </select>
        <div class="error-message" *ngIf="formSubmitted && !user.role">
          Role is required
        </div>
      </div>
      
      <div class="form-group">
        <label for="team">Team</label>
        <select 
          id="team" 
          name="team"
          [(ngModel)]="user.team"
          [class.invalid]="formSubmitted && !user.team">
          <option *ngFor="let team of teams" [value]="team">{{ team }}</option>
        </select>
        <div class="error-message" *ngIf="formSubmitted && !user.team">
          Team is required
        </div>
      </div>
    </div>
    
    <div class="form-group" *ngIf="!isEditMode">
      <label for="password">Password</label>
      <div class="password-input">
        <input 
          [type]="showPassword ? 'text' : 'password'" 
          id="password" 
          name="password"
          [(ngModel)]="user.password"
          [class.invalid]="formSubmitted && !user.password">
        <button type="button" class="toggle-password" (click)="togglePasswordVisibility()">
          <svg *ngIf="!showPassword" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3z" fill="currentColor"/>
          </svg>
          <svg *ngIf="showPassword" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path d="M12 7c2.76 0 5 2.24 5 5c0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75c-1.73-4.39-6-7.5-11-7.5c-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28l.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5c1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22L21 20.73L3.27 3L2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65c0 1.66 1.34 3 3 3c.22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53c-2.76 0-5-2.24-5-5c0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15l.02-.16c0-1.66-1.34-3-3-3l-.17.01z" fill="currentColor"/>
          </svg>
        </button>
      </div>
      <div class="error-message" *ngIf="formSubmitted && !user.password">
        Password is required
      </div>
    </div>
    
    <div class="form-actions">
      <button type="button" class="cancel-btn" (click)="cancelForm()">Cancel</button>
      <button type="submit" class="submit-btn">{{ isEditMode ? 'Update' : 'Create' }}</button>
    </div>
  </form>
</div>
